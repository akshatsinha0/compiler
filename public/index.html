<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Java Online Compiler</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nata+Sans:wght@100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs/loader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-java.min.js"></script>
</head>

<body>
    <div class="top-bar">
        <h1>Java Online Compiler <span class="version-info">(Java 24)</span></h1>
        <div class="header-controls">
            <button id="newFileBtn" class="btn btn-icon" title="New File">
                <i class="fas fa-file-plus"></i>
            </button>
            <button id="openProjectBtn" class="btn btn-icon" title="Project Structure">
                <i class="fas fa-folder-tree"></i>
            </button>
            <div class="dropdown">
                <span class="dropdown-trigger">View</span>
                <div class="dropdown-content">
                    <div class="dropdown-item" id="toggleSplitView"><i class="fas fa-columns"></i> Split View</div>
                    <div class="dropdown-item" id="toggleMinimap"><i class="fas fa-map"></i> Minimap</div>
                    <div class="dropdown-item" id="toggleHistory"><i class="fas fa-history"></i> History Panel</div>
                </div>
            </div>
            <div class="dropdown">
                <span class="dropdown-trigger">Font Size</span>
                <div class="dropdown-content">
                    <div class="dropdown-item" data-target="editor">Code Editor</div>
                    <div class="dropdown-item" data-target="output">Output</div>
                </div>
            </div>
            <div class="dropdown">
                <span class="dropdown-trigger">Theme</span>
                <div class="dropdown-content">
                    <div class="dropdown-item" data-theme="vs">Light</div>
                    <div class="dropdown-item" data-theme="vs-dark">Dark</div>
                    <div class="dropdown-item" data-theme="hc-black">High Contrast</div>
                </div>
            </div>
            <button id="runBtn" class="btn btn-primary">
                <i class="fas fa-play"></i>
                <span class="btn-text">Run Code</span>
                <span class="btn-loading" style="display: none;">
                    <div class="equalizer">
                        <div class="bar"></div>
                        <div class="bar"></div>
                        <div class="bar"></div>
                        <div class="bar"></div>
                        <div class="bar"></div>
                    </div>
                </span>
            </button>
            <button id="debugBtn" class="btn btn-warning" title="Step-through Debug">
                <i class="fas fa-bug"></i> Debug
            </button>
            <button id="shareBtn" class="btn btn-info" title="Share Code">
                <i class="fas fa-share-alt"></i>
            </button>
            <button id="clearBtn" class="btn btn-secondary">Clear</button>
        </div>
    </div>

    <div class="main-content">
        <div class="sidebar" id="projectSidebar" style="display: none;">
            <div class="sidebar-header">
                <h3><i class="fas fa-folder-open"></i> Project Explorer</h3>
                <button class="btn-close" id="closeSidebar">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="project-tree" id="projectTree">
                <div class="tree-item">
                    <i class="fas fa-folder"></i> src
                    <div class="tree-children" id="fileList"></div>
                </div>
            </div>
            <div class="sidebar-actions">
                <button class="btn btn-small" id="createPackageBtn">
                    <i class="fas fa-folder-plus"></i> New Package
                </button>
            </div>
        </div>

        <div class="editor-container" id="editorContainer">
            <div class="tabs-container" id="tabsContainer">
                <div class="tabs" id="tabs">
                    <div class="tab active" data-file-id="main">
                        <span class="tab-title">Main.java</span>
                        <button class="tab-close" data-file-id="main">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>
                <button class="tab-add" id="addTabBtn">
                    <i class="fas fa-plus"></i>
                </button>
            </div>
            
            <div class="editor-toolbar">
                <button class="toolbar-btn" id="searchBtn" title="Find & Replace (Ctrl+F)">
                    <i class="fas fa-search"></i>
                </button>
                <button class="toolbar-btn" id="foldAllBtn" title="Fold All">
                    <i class="fas fa-compress-alt"></i>
                </button>
                <button class="toolbar-btn" id="unfoldAllBtn" title="Unfold All">
                    <i class="fas fa-expand-alt"></i>
                </button>
                <button class="toolbar-btn" id="formatBtn" title="Format Code">
                    <i class="fas fa-indent"></i>
                </button>
                <button class="toolbar-btn" id="renameBtn" title="Rename File">
                    <i class="fas fa-edit"></i>
                </button>
            </div>

            <div class="editor-wrapper">
                <div class="editor-section" id="editorSection">
                    <div id="editor" class="editor"></div>
                </div>
                <div class="editor-section" id="editorSection2" style="display: none;">
                    <div id="editor2" class="editor"></div>
                </div>
            </div>
        </div>

        <div class="resizer" id="resizer"></div>

        <div class="output-container">
            <div class="output-section" id="outputSection">
                <div class="section-header">
                    <div class="output-tabs">
                        <button class="output-tab active" data-panel="console">
                            <i class="fas fa-terminal"></i> Console
                        </button>
                        <button class="output-tab" data-panel="errors">
                            <i class="fas fa-exclamation-triangle"></i> Problems
                        </button>
                        <button class="output-tab" data-panel="debug">
                            <i class="fas fa-bug"></i> Debug
                        </button>
                    </div>
                    <div class="output-actions">
                        <span class="execution-stats" id="executionStats"></span>
                        <button id="exportOutputBtn" class="btn btn-small" title="Export Output">
                            <i class="fas fa-download"></i>
                        </button>
                        <button id="clearOutputBtn" class="btn btn-small">Clear</button>
                    </div>
                </div>
                <div class="output-panels">
                    <div id="consolePanel" class="output-panel active">
                        <div id="output" class="output">
                            <div class="output-placeholder">Run your Java code to see output here...</div>
                        </div>
                    </div>
                    <div id="errorsPanel" class="output-panel" style="display: none;">
                        <div class="errors-list" id="errorsList"></div>
                    </div>
                    <div id="debugPanel" class="output-panel" style="display: none;">
                        <div class="debug-controls">
                            <button class="debug-btn" id="stepOverBtn">
                                <i class="fas fa-step-forward"></i> Step Over
                            </button>
                            <button class="debug-btn" id="stepIntoBtn">
                                <i class="fas fa-level-down-alt"></i> Step Into
                            </button>
                            <button class="debug-btn" id="continueBtn">
                                <i class="fas fa-play"></i> Continue
                            </button>
                        </div>
                        <div class="debug-output" id="debugOutput"></div>
                    </div>
                </div>
            </div>

            <div class="history-panel" id="historyPanel" style="display: none;">
                <div class="history-header">
                    <h3><i class="fas fa-history"></i> Execution History</h3>
                    <button class="btn-close" id="closeHistory">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="history-list" id="historyList"></div>
                <div class="history-actions">
                    <button class="btn btn-small" id="clearHistoryBtn">
                        <i class="fas fa-trash"></i> Clear All
                    </button>
                    <button class="btn btn-small" id="compareBtn">
                        <i class="fas fa-code-compare"></i> Compare
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="fontSizeModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Select Font Size</h3>
                <span class="close" id="closeModal">&times;</span>
            </div>
            <div class="modal-body">
                <div class="font-size-options">
                    <div class="font-size-option" data-size="12">12px</div>
                    <div class="font-size-option" data-size="14">14px</div>
                    <div class="font-size-option" data-size="16">16px</div>
                    <div class="font-size-option" data-size="18">18px</div>
                    <div class="font-size-option" data-size="20">20px</div>
                    <div class="font-size-option" data-size="22">22px</div>
                    <div class="font-size-option" data-size="24">24px</div>
                </div>
                <div id="fontAppliedMessage" class="font-applied-message" style="display: none;">
                    Font size applied!
                </div>
            </div>
        </div>
    </div>

    <div id="searchModal" class="modal">
        <div class="modal-content search-modal">
            <div class="modal-header">
                <h3>Find & Replace</h3>
                <span class="close" id="closeSearchModal">&times;</span>
            </div>
            <div class="modal-body">
                <div class="search-row">
                    <input type="text" id="searchInput" placeholder="Find..." class="search-input">
                    <label class="checkbox-label">
                        <input type="checkbox" id="searchRegex"> Regex
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="searchCase"> Case Sensitive
                    </label>
                </div>
                <div class="search-row">
                    <input type="text" id="replaceInput" placeholder="Replace with..." class="search-input">
                </div>
                <div class="search-actions">
                    <button class="btn btn-small" id="findNextBtn">Find Next</button>
                    <button class="btn btn-small" id="findPrevBtn">Find Previous</button>
                    <button class="btn btn-small" id="replaceBtn">Replace</button>
                    <button class="btn btn-small" id="replaceAllBtn">Replace All</button>
                </div>
            </div>
        </div>
    </div>

    <div id="shareModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Share Your Code</h3>
                <span class="close" id="closeShareModal">&times;</span>
            </div>
            <div class="modal-body">
                <div class="share-url-container">
                    <input type="text" id="shareUrl" readonly class="share-url-input">
                    <button class="btn btn-small" id="copyUrlBtn">
                        <i class="fas fa-copy"></i> Copy
                    </button>
                </div>
                <div class="share-buttons">
                    <button class="share-btn twitter" id="shareTwitter">
                        <i class="fab fa-twitter"></i> Twitter
                    </button>
                    <button class="share-btn linkedin" id="shareLinkedIn">
                        <i class="fab fa-linkedin"></i> LinkedIn
                    </button>
                    <button class="share-btn github" id="shareGitHub">
                        <i class="fab fa-github"></i> Create Gist
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="packageModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Create New Package</h3>
                <span class="close" id="closePackageModal">&times;</span>
            </div>
            <div class="modal-body">
                <input type="text" id="packageName" placeholder="Enter package name (e.g., com.example.app)" class="package-input">
                <div class="package-preview" id="packagePreview"></div>
                <button class="btn btn-primary" id="createPackageConfirm">Create Package</button>
            </div>
        </div>
    </div>

    <script src="script-enhanced.js"></script>
</body>

</html>